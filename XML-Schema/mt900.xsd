<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:mt900="http://www.xml2017.com/schema/mt900"
    targetNamespace="http://www.xml2017.com/schema/mt900" elementFormDefault="qualified"> 
    
    <!-- PROSTI TIPOVI -->
    <xs:simpleType name="TID">
        <xs:restriction base="xs:string">
            <xs:minLength value="1"/>
            <xs:maxLength value="50"/>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="TSWIFT">
        <xs:restriction base="xs:string">
            <xs:pattern value="[A-Z]{6}[A-Z0-9]{2}(X{3}|[A-Z0-9]{3})?"/>
            <xs:minLength value="8"/>
            <xs:maxLength value="11"/>
        </xs:restriction>    
    </xs:simpleType>
    
    <!-- sa povlakama ili bez da bude? -->
    <xs:simpleType name="TBrojRacunaBanke">
        <xs:restriction base="xs:string">
            <xs:pattern value="\d{18}"></xs:pattern>
            <xs:length value="18"></xs:length>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="TIznos">
        <xs:restriction base="xs:decimal">
            <xs:totalDigits value="15"/>
            <xs:fractionDigits value="2"/>
        </xs:restriction>
    </xs:simpleType>
    
    <xs:simpleType name="TSifraValute">
        <xs:restriction base="xs:string">
            <xs:pattern value="[A-Z]{3}"/>
        </xs:restriction>
    </xs:simpleType>
    
    <!-- KOMPLEKSNI TIPOVI -->
    <xs:complexType name="TBanka">
        <xs:sequence>
            <xs:element name="SWIFT" type="mt900:TSWIFT"></xs:element>
            <xs:element name="BankAccountNumber" type="mt900:TBrojRacunaBanke"></xs:element>
        </xs:sequence>
        <xs:attribute name="id" type="xs:string"></xs:attribute>
    </xs:complexType>
    
    <!-- MT900 -->
    <xs:element name="mt900">
        <xs:complexType>
            <xs:sequence>
                <xs:element name="id_poruke" type="mt900:TID"/>
                <xs:element name="banka_duznik" type="mt900:TBanka"/>
                <xs:element name="id_poruke_naloga" type="mt900:TID"/>
                <xs:element name="datum_valute" type="xs:date"/>
                <xs:element name="iznos" type="mt900:TIznos"/>
                <xs:element name="sifra_valute" type="mt900:TSifraValute"/>
            </xs:sequence>
        </xs:complexType>
    </xs:element>
</xs:schema>
