<div>
    <div ng-controller="ProizvodiFirmeController">
        <md-autocomplete
                md-no-cache="true"
                md-selected-item="firma"
                md-items="f in firme | filter : searchText"
                md-search-text="searchText"
                md-item-text="f.name"
                placeholder="Odaberite firmu"
                md-min-length="0"
                md-menu-class="autocomplete-custom-template"
                md-selected-item-change="getProizvodiByFirma(f)">
            <md-item-template>
                <span class="item-title">
                    <strong><span md-highlight-text="searchText" md-highlight-flags="^i">{{f.name}}</span></strong>
                </span>

                <span class="item-metadata">
                    <span>
                      {{f.adresa}}
                    </span>
                </span>

            </md-item-template>
            <md-not-found>
                Ne postoji firma sa unetim podacima.
            </md-not-found>
        </md-autocomplete>

        <div layout-gt-sm="row">
            <md-input-container class="md-block" flex-gt-sm>
                <label>Naziv</label>
                <input ng-model="firma.name" disabled>
            </md-input-container>

            <md-input-container class="md-block" flex-gt-sm>
                <label>Adresa</label>
                <input ng-model="firma.adresa" disabled>
            </md-input-container>

            <md-input-container class="md-block" flex-gt-sm>
                <label>PIB</label>
                <input ng-model="firma.pib" disabled>
            </md-input-container>
        </div>

        <div layout-gt-sm="row" layout-align="center center">
            <md-button style="background-color: blue;" class="md-primary md-raised" ng-click="openCartDialog($event, proizvodiByFirma)">
                <md-icon md-svg-icon="icons/ic_shopping_cart_white_36px.svg"></md-icon>
            </md-button>
        </div>

        <md-list style="border: 1px solid white !important;" class="md-block" flex-gt-sm>
            <md-subheader class="md-no-sticky">Proizvodi:</md-subheader>
            <md-divider></md-divider>
            <md-list-item class="md-2-line">
                <div class="md-list-item-text" layout="row" layout-align="start center" >
                    <span flex>Šifra</span>
                    <span flex></span>
                    <span flex>Naziv</span>
                    <span flex></span>
                    <span flex>Tip</span>
                    <span flex></span>
                    <span flex>Mera</span>
                    <span flex></span>
                    <span flex>Cena</span>
                    <span flex></span>
                    <span flex>Rabat</span>
                    <span flex></span>
                    <span flex>Na stanju</span>
                    <span flex></span>
                    <span flex="10"></span>
                </div>
                <md-divider></md-divider>
            </md-list-item>
            <md-list-item class="md-2-line" ng-repeat="p in proizvodiByFirma" >
                <div class="md-list-item-text" layout="row" layout-align="start center">
                    <span flex>{{p.proizvod.id}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.naziv}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.tip}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.mera}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.cena}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.rabat}}</span>
                    <span flex></span>
                    <span flex>{{p.proizvod.kolicina}}</span>
                    <span flex></span>
                    <span flex="10">
                        <md-switch class="md-primary" md-no-ink aria-label="Switch No Ink" ng-true-value="'Da'" ng-false-value="'Ne'" ng-model="p.kupujem">
                            Kupujem: {{p.kupujem}}
                        </md-switch>
                    </span>
                </div>
                <md-divider></md-divider>
            </md-list-item>

            <md-list-item class="md-1-line" ng-if="proizvodiByFirma.length == 0">
                <div class="md-list-item-text">
                    <h3>Nema proizvoda</h3>
                </div>
            </md-list-item>
        </md-list>

        <div layout-gt-sm="row" layout-align="center center">
            <md-button style="background-color: blue;" class="md-primary md-raised" ng-click="openCartDialog($event, proizvodiByFirma)">
                <md-icon md-svg-icon="icons/ic_shopping_cart_white_36px.svg"></md-icon>
            </md-button>
        </div>


        <!--<table style="border: 1px solid white !important; width:100%;" >-->
            <!--<tr>-->
                <!--<th>Šifra</th>-->
                <!--<th>Naziv</th>-->
                <!--<th>Tip</th>-->
                <!--<th>Mera</th>-->
                <!--<th>Cena</th>-->
                <!--<th>Rabat</th>-->
                <!--<th>Količina</th>-->
            <!--</tr>-->
            <!--<tr ng-repeat="p in proizvodiByFirma">-->
                <!--<td>{{p.id}}</td>-->
                <!--<td>{{p.naziv}}</td>-->
                <!--<td>{{p.tip}}</td>-->
                <!--<td>{{p.mera}}</td>-->
                <!--<td>{{p.cena}}</td>-->
                <!--<td>{{p.rabat}}</td>-->
                <!--<td>{{p.kolicina}}</td>-->
            <!--</tr>-->
        <!--</table>-->
    </div>
</div>